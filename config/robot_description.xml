<?xml version="1.0" encoding="utf-8"?>
<qr name="quadruped_robot">

	<!-- All of the hardwares list here, and it will be automatic instance -->
	<fl>
		<yaw  auto_inst="middleware::Joint" leg="fl" jnt="yaw"  name="fl_yaw"  />
		<hip  auto_inst="middleware::Joint" leg="fl" jnt="hip"  name="fl_hip"  />
		<knee auto_inst="middleware::Joint" leg="fl" jnt="knee" name="fl_knee" />
		<td   auto_inst="middleware::ForceSensor" leg="fl"                     />
	</fl>

	<hl>
		<yaw  auto_inst="middleware::Joint" leg="hl" jnt="yaw"  name="hl_yaw"  />
		<hip  auto_inst="middleware::Joint" leg="hl" jnt="hip"  name="hl_hip"  />
		<knee auto_inst="middleware::Joint" leg="hl" jnt="knee" name="hl_knee" />
		<td   auto_inst="middleware::ForceSensor" leg="hl"                     />
	</hl>

	<fr>
		<yaw  auto_inst="middleware::Joint" leg="fr" jnt="yaw"  name="fr_yaw"  />
		<hip  auto_inst="middleware::Joint" leg="fr" jnt="hip"  name="fr_hip"  />
		<knee auto_inst="middleware::Joint" leg="fr" jnt="knee" name="fr_knee" />
		<td   auto_inst="middleware::ForceSensor" leg="fr"                     />
	</fr>

	<hr>
		<yaw  auto_inst="middleware::Joint" leg="hr" jnt="yaw"  name="hr_yaw"  />
		<hip  auto_inst="middleware::Joint" leg="hr" jnt="hip"  name="hr_hip"  />
		<knee auto_inst="middleware::Joint" leg="hr" jnt="knee" name="hr_knee" />
		<td   auto_inst="middleware::ForceSensor" leg="hr"                     />
	</hr>

	<!-- About propagates, it will be automatic instance and addtion to PropagatesManager -->
	<!-- These objects as follow communication between the real robot directly -->
	<propagates name="propagates" >
		<!--pcan_fake auto_inst="middleware::PcanChannelFake"
			output="/home/bibei/output" repeat="true" input="/home/bibei/input"
			channel="0x51" baud="500" type="0" port="0" interrupt="0" /-->
		<pcan auto_inst="middleware::PcanChannel"
			channel="0x51" baud="500" type="0" port="0" interrupt="0" />
	</propagates>
	
	<!-- Got the packet message from PropagateManager and update the information of hardware -->
	<!-- All of the nodes will be managed by HwManager which contains propagates-->
	<lf name="hardwares" >
		<node auto_inst="middleware::LegNode" leg="fl" node_id="0x02" >
			<joint_0     jnt="yaw"  label="qr.fl.yaw"  base="1"  offset="15724" k_cmd="1000" b_cmd="0" />
			<joint_1     jnt="hip"  label="qr.fl.hip"  base="-1" offset="23034" k_cmd="1000" b_cmd="0" />
			<joint_2     jnt="knee" label="qr.fl.knee" base="1"  offset="24780" k_cmd="1000" b_cmd="0" />
			<touchdown              label="qr.fl.td" />
		</node>
	</lf>

	<hl>
		<node auto_inst="middleware::LegNode" leg="hl" node_id="0x03" >
			<joint_0     jnt="yaw"  label="qr.hl.yaw"  base="-1" offset="19176" k_cmd="1000" b_cmd="0" />
			<joint_1     jnt="hip"  label="qr.hl.hip"  base="-1" offset="5736"  k_cmd="1000" b_cmd="0" />
			<joint_2     jnt="knee" label="qr.hl.knee" base="1"  offset="3740"  k_cmd="1000" b_cmd="0" />
			<touchdown              label="qr.hl.td" />
		</node>
	</hl>

	<fr>
		<node auto_inst="middleware::LegNode" leg="fr" node_id="0x04" >
			<joint_0     jnt="yaw"  label="qr.fr.yaw"  base="1"  offset="18146" k_cmd="1000" b_cmd="0" />
			<joint_1     jnt="hip"  label="qr.fr.hip"  base="-1" offset="2346"  k_cmd="1000" b_cmd="0" />
			<joint_2     jnt="knee" label="qr.fr.knee" base="1"  offset="15590" k_cmd="1000" b_cmd="0" />
			<touchdown              label="qr.fr.td" />
		</node>
	</fr>

	<hr>
		<node auto_inst="middleware::LegNode" leg="hr" node_id="0x05" >
			<joint_0     jnt="yaw"  label="qr.hr.yaw"  base="-1" offset="15824" k_cmd="1000" b_cmd="0" />
			<joint_1     jnt="hip"  label="qr.hr.hip"  base="1"  offset="19744" k_cmd="1000" b_cmd="0" />
			<joint_2     jnt="knee" label="qr.hr.knee" base="-1" offset="28050" k_cmd="1000" b_cmd="0" />
			<touchdown              label="qr.hr.td" />
		</node>
	</hr>

	<!-- power_node auto_inst="middleware::Power" node_id="0x08"  /-->

	<!-- User Layer -->
	<wrapper>
		<!-- The necessary parameters are asked by MiiRobot -->
		<robot>
			<joints     labels="qr.fl.yaw qr.fl.hip qr.fl.knee
												  qr.hl.yaw qr.hl.hip qr.hl.knee
												  qr.fr.yaw qr.fr.hip qr.fr.knee
												  qr.hr.yaw qr.hr.hip qr.hr.knee" />

			<touchdowns labels="qr.fl.td qr.hl.td
												  qr.fr.td qr.hr.td" />
		</robot>
		<!-- The necessary parameters are asked by RosWrapper -->
		<roswrapper>
			<touchdown_0 label="qr.fl.td" name="fl_td" frame_id="fl_foot" />
			<touchdown_1 label="qr.fr.td" name="fr_td" frame_id="fr_foot" />
			<touchdown_2 label="qr.hl.td" name="hl_td" frame_id="hl_foot" />
			<touchdown_3 label="qr.hr.td" name="hr_td" frame_id="hr_foot" />
			<imu         label="qr.imu"   name="imu"   frame_id="XXX" />
		</roswrapper>
	</wrapper>

</qr>
